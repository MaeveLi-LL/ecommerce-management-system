# ç”µå•†å•†å“ç®¡ç†ç³»ç»Ÿ - å®Œæ•´å¼€å‘æ­¥éª¤æŒ‡å—

> åŸºäº Silk Software Node.js å…¨æ ˆå®ä¹ ç”Ÿè€ƒæ ¸é¡¹ç›®éœ€æ±‚

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®å‡†å¤‡é˜¶æ®µ](#1-é¡¹ç›®å‡†å¤‡é˜¶æ®µ)
2. [GitHub ä»“åº“åˆ›å»º](#2-github-ä»“åº“åˆ›å»º)
3. [æ•°æ®åº“è®¾è®¡ä¸é…ç½®](#3-æ•°æ®åº“è®¾è®¡ä¸é…ç½®)
4. [åç«¯å¼€å‘ï¼ˆNestJSï¼‰](#4-åç«¯å¼€å‘nestjs)
5. [å‰ç«¯å¼€å‘ï¼ˆReact + Ant Designï¼‰](#5-å‰ç«¯å¼€å‘react--ant-design)
6. [å‰åç«¯è”è°ƒ](#6-å‰åç«¯è”è°ƒ)
7. [Docker å®¹å™¨åŒ–ï¼ˆå¯é€‰ï¼‰](#7-docker-å®¹å™¨åŒ–å¯é€‰)
8. [æµ‹è¯•ä¸ä¼˜åŒ–](#8-æµ‹è¯•ä¸ä¼˜åŒ–)
9. [æ–‡æ¡£ç¼–å†™](#9-æ–‡æ¡£ç¼–å†™)
10. [é¡¹ç›®æäº¤](#10-é¡¹ç›®æäº¤)

---

## 1. é¡¹ç›®å‡†å¤‡é˜¶æ®µ

### 1.1 ç¯å¢ƒè¦æ±‚

**å¿…éœ€è½¯ä»¶ï¼š**
- Node.js (v18+)
- npm æˆ– yarn
- PostgreSQL (v14+)
- Git
- VS Code æˆ– Cursorï¼ˆæ¨èï¼‰

**å¯é€‰è½¯ä»¶ï¼š**
- Docker Desktopï¼ˆç”¨äºå®¹å™¨åŒ–ï¼‰
- pgAdminï¼ˆæ•°æ®åº“ç®¡ç†å·¥å…·ï¼‰

### 1.2 æŠ€æœ¯æ ˆç¡®è®¤

- **åç«¯æ¡†æ¶**: NestJS
- **å‰ç«¯æ¡†æ¶**: React + TypeScript
- **UI ç»„ä»¶åº“**: Ant Design
- **æ•°æ®åº“**: PostgreSQL
- **ORM**: Prisma
- **è®¤è¯**: JWT (JSON Web Token)
- **API æ–‡æ¡£**: Swagger
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub

---

## 2. GitHub ä»“åº“åˆ›å»º

### 2.1 åˆ›å»º GitHub ä»“åº“

1. **ç™»å½• GitHub**
   - è®¿é—® https://github.com
   - ç™»å½•ä½ çš„è´¦å·

2. **åˆ›å»ºæ–°ä»“åº“**
   - ç‚¹å‡»å³ä¸Šè§’ "+" â†’ "New repository"
   - Repository name: `ecommerce-management-system`
   - Description: `Simplified e-commerce product management system - NestJS + React`
   - é€‰æ‹© Public æˆ– Private
   - **ä¸è¦**å‹¾é€‰ "Initialize this repository with a README"
   - ç‚¹å‡» "Create repository"

3. **è·å–ä»“åº“åœ°å€**
   - å¤åˆ¶ä»“åº“ HTTPS æˆ– SSH åœ°å€
   - ä¾‹å¦‚: `https://github.com/your-username/ecommerce-management-system.git`

### 2.2 æœ¬åœ° Git åˆå§‹åŒ–

```bash
# åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•
mkdir ecommerce-management-system
cd ecommerce-management-system

# åˆå§‹åŒ– Git ä»“åº“
git init

# åˆ›å»º .gitignore æ–‡ä»¶
cat > .gitignore << EOF
# Dependencies
node_modules/
package-lock.json
yarn.lock

# Build outputs
dist/
build/
*.log

# Environment variables
.env
.env.local
.env.*.local

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Prisma
prisma/migrations/

# Uploads
uploads/
EOF

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/your-username/ecommerce-management-system.git

# é¦–æ¬¡æäº¤
git add .
git commit -m "chore: initial project setup"
git branch -M main
git push -u origin main
```

### 2.3 éµå¾ª Conventional Commits è§„èŒƒ

**æäº¤ä¿¡æ¯æ ¼å¼ï¼š**
```
<type>(<scope>): <subject>

<body>

<footer>
```

**å¸¸ç”¨ç±»å‹ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•
- `chore`: æ„å»º/å·¥å…·é“¾ç›¸å…³

**ç¤ºä¾‹ï¼š**
```bash
git commit -m "feat(auth): implement user registration with JWT"
git commit -m "fix(products): resolve image upload issue"
git commit -m "docs: update API documentation"
```

### 2.4 é€šçŸ¥å¯¼å¸ˆ

- å°†ä»“åº“åœ°å€å‘é€ç»™ @å‘¨å‹‡(Leo.Zhou) å’Œ @é»„é”(Bruce.Huang)
- ç¡®ä¿ä»“åº“è®¾ç½®ä¸ºå¯è®¿é—®

---

## 3. æ•°æ®åº“è®¾è®¡ä¸é…ç½®

### 3.1 å®‰è£… PostgreSQL

**Windows:**
1. ä¸‹è½½ PostgreSQL: https://www.postgresql.org/download/windows/
2. è¿è¡Œå®‰è£…ç¨‹åºï¼Œè®°ä½è®¾ç½®çš„å¯†ç 
3. é»˜è®¤ç«¯å£: 5432

**macOS:**
```bash
brew install postgresql@14
brew services start postgresql@14
```

**Linux:**
```bash
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib
sudo systemctl start postgresql
```

### 3.2 åˆ›å»ºæ•°æ®åº“

```bash
# ç™»å½• PostgreSQL
psql -U postgres

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE ecommerce_db;

# åˆ›å»ºç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
CREATE USER ecommerce_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE ecommerce_db TO ecommerce_user;

# é€€å‡º
\q
```

### 3.3 ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

åˆ›å»º `docker-compose.yml`:

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:14
    container_name: ecommerce-postgres
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: ecommerce_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - ecommerce-network

  pgadmin:
    image: dpage/pgadmin4:latest
    container_name: ecommerce-pgadmin
    environment:
      PGADMIN_DEFAULT_EMAIL: admin@admin.com
      PGADMIN_DEFAULT_PASSWORD: admin
    ports:
      - "5050:80"
    depends_on:
      - postgres
    networks:
      - ecommerce-network

volumes:
  postgres_data:

networks:
  ecommerce-network:
    driver: bridge
```

å¯åŠ¨æ•°æ®åº“ï¼š
```bash
docker-compose up -d
```

### 3.4 æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡

æ ¹æ®éœ€æ±‚ï¼Œéœ€è¦è®¾è®¡ä»¥ä¸‹è¡¨ï¼š

**User è¡¨ï¼š**
- `id` (ä¸»é”®, è‡ªå¢)
- `username` (å”¯ä¸€, éç©º)
- `email` (å”¯ä¸€, éç©º)
- `password` (å“ˆå¸ŒåŠ å¯†, éç©º)
- `createdAt` (æ—¶é—´æˆ³)
- `updatedAt` (æ—¶é—´æˆ³)

**Product è¡¨ï¼š**
- `id` (ä¸»é”®, è‡ªå¢)
- `name` (éç©º)
- `description` (å¯é€‰)
- `price` (æ•°å€¼, éç©º)
- `stock` (æ•´æ•°, éç©º)
- `imageUrl` (å¯é€‰)
- `categoryId` (å¤–é”®, å…³è” Category)
- `userId` (å¤–é”®, å…³è” User)
- `createdAt` (æ—¶é—´æˆ³)
- `updatedAt` (æ—¶é—´æˆ³)

**Category è¡¨ï¼š**
- `id` (ä¸»é”®, è‡ªå¢)
- `name` (éç©º)
- `parentId` (å¤–é”®, è‡ªå¼•ç”¨, å¯é€‰ - æ”¯æŒå±‚çº§ç»“æ„)
- `userId` (å¤–é”®, å…³è” User)
- `createdAt` (æ—¶é—´æˆ³)
- `updatedAt` (æ—¶é—´æˆ³)

---

## 4. åç«¯å¼€å‘ï¼ˆNestJSï¼‰

### 4.1 åˆ›å»º NestJS é¡¹ç›®

```bash
# å®‰è£… NestJS CLI
npm i -g @nestjs/cli

# åˆ›å»ºé¡¹ç›®
cd ecommerce-management-system
nest new backend

# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
npm install
```

### 4.2 é…ç½® Prisma

```bash
# å®‰è£… Prisma
npm install prisma @prisma/client
npm install -D prisma

# åˆå§‹åŒ– Prisma
npx prisma init

# è¿™ä¼šåˆ›å»º prisma/schema.prisma æ–‡ä»¶
```

**é…ç½® `prisma/schema.prisma`:**

```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int       @id @default(autoincrement())
  username  String    @unique
  email     String    @unique
  password  String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  products  Product[]
  categories Category[]
}

model Product {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  price       Float
  stock       Int
  imageUrl    String?
  categoryId  Int?
  category    Category? @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  userId      Int
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Category {
  id        Int       @id @default(autoincrement())
  name      String
  parentId  Int?
  parent    Category? @relation("CategoryHierarchy", fields: [parentId], references: [id], onDelete: SetNull)
  children  Category[] @relation("CategoryHierarchy")
  userId    Int
  user      User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  products  Product[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}
```

**é…ç½® `.env` æ–‡ä»¶:**

```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/ecommerce_db?schema=public"
JWT_SECRET="your-secret-key-change-in-production"
JWT_EXPIRES_IN="7d"
PORT=3003
```

**è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š**

```bash
npx prisma migrate dev --name init
npx prisma generate
```

### 4.3 å®‰è£…å¿…è¦ä¾èµ–

```bash
# JWT è®¤è¯
npm install @nestjs/jwt @nestjs/passport passport passport-jwt passport-local
npm install -D @types/passport-jwt @types/passport-local

# å¯†ç åŠ å¯†
npm install bcrypt
npm install -D @types/bcrypt

# æ–‡ä»¶ä¸Šä¼ 
npm install multer
npm install -D @types/multer

# Swagger æ–‡æ¡£
npm install @nestjs/swagger swagger-ui-express

# éªŒè¯
npm install class-validator class-transformer
```

### 4.4 é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/              # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”œâ”€â”€ auth.module.ts
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ register.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ login.dto.ts
â”‚   â”‚   â”œâ”€â”€ jwt.strategy.ts
â”‚   â”‚   â”œâ”€â”€ jwt-auth.guard.ts
â”‚   â”‚   â””â”€â”€ local.strategy.ts
â”‚   â”œâ”€â”€ users/             # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users.service.ts
â”‚   â”‚   â””â”€â”€ users.module.ts
â”‚   â”œâ”€â”€ products/          # å•†å“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ products.controller.ts
â”‚   â”‚   â”œâ”€â”€ products.service.ts
â”‚   â”‚   â”œâ”€â”€ products.module.ts
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â”œâ”€â”€ create-product.dto.ts
â”‚   â”‚       â””â”€â”€ update-product.dto.ts
â”‚   â”œâ”€â”€ categories/        # åˆ†ç±»æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ categories.controller.ts
â”‚   â”‚   â”œâ”€â”€ categories.service.ts
â”‚   â”‚   â”œâ”€â”€ categories.module.ts
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â”œâ”€â”€ create-category.dto.ts
â”‚   â”‚       â””â”€â”€ update-category.dto.ts
â”‚   â”œâ”€â”€ prisma/            # Prisma æœåŠ¡
â”‚   â”‚   â””â”€â”€ prisma.service.ts
â”‚   â”œâ”€â”€ upload/            # æ–‡ä»¶ä¸Šä¼ æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ upload.controller.ts
â”‚   â”‚   â””â”€â”€ upload.module.ts
â”‚   â”œâ”€â”€ app.module.ts
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma
â”œâ”€â”€ uploads/               # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### 4.5 å®ç°æ ¸å¿ƒåŠŸèƒ½

#### 4.5.1 Prisma Service

åˆ›å»º `src/prisma/prisma.service.ts`:

```typescript
import { Injectable, OnModuleInit } from '@nestjs/common';
import { PrismaClient } from '@prisma/client';

@Injectable()
export class PrismaService extends PrismaClient implements OnModuleInit {
  async onModuleInit() {
    await this.$connect();
  }
}
```

#### 4.5.2 ç”¨æˆ·æ³¨å†Œå’Œç™»å½•

**å®ç°æ­¥éª¤ï¼š**
1. åˆ›å»º `auth` æ¨¡å—
2. å®ç°æ³¨å†Œæ¥å£ï¼ˆå¯†ç ä½¿ç”¨ bcrypt åŠ å¯†ï¼‰
3. å®ç°ç™»å½•æ¥å£ï¼ˆéªŒè¯å¯†ç ï¼Œç”Ÿæˆ JWTï¼‰
4. é…ç½® JWT ç­–ç•¥å’Œå®ˆå«

#### 4.5.3 å•†å“ CRUD API

**æ¥å£åˆ—è¡¨ï¼š**
- `GET /products` - è·å–å•†å“åˆ—è¡¨ï¼ˆéœ€è¦è®¤è¯ï¼‰
- `GET /products/:id` - è·å–å•†å“è¯¦æƒ…
- `POST /products` - åˆ›å»ºå•†å“
- `PATCH /products/:id` - æ›´æ–°å•†å“
- `DELETE /products/:id` - åˆ é™¤å•†å“

#### 4.5.4 åˆ†ç±» CRUD API

**æ¥å£åˆ—è¡¨ï¼š**
- `GET /categories` - è·å–åˆ†ç±»åˆ—è¡¨
- `GET /categories/:id` - è·å–åˆ†ç±»è¯¦æƒ…
- `POST /categories` - åˆ›å»ºåˆ†ç±»
- `PATCH /categories/:id` - æ›´æ–°åˆ†ç±»
- `DELETE /categories/:id` - åˆ é™¤åˆ†ç±»

#### 4.5.5 é…ç½® Swagger

åœ¨ `main.ts` ä¸­é…ç½®ï¼š

```typescript
import { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';

const config = new DocumentBuilder()
  .setTitle('E-Commerce Management API')
  .setDescription('API documentation for e-commerce product management system')
  .setVersion('1.0')
  .addBearerAuth()
  .build();

const document = SwaggerModule.createDocument(app, config);
SwaggerModule.setup('api', app, document);
```

### 4.6 é…ç½® CORS

åœ¨ `main.ts` ä¸­ï¼š

```typescript
app.enableCors({
  origin: ['http://localhost:3001', 'http://localhost:3000'],
  methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',
  credentials: true,
});
```

### 4.7 å¯åŠ¨åç«¯æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
npm run start:dev

# ç”Ÿäº§æ¨¡å¼
npm run build
npm run start:prod
```

**è®¿é—® Swagger æ–‡æ¡£ï¼š**
- http://localhost:3003/api

---

## 5. å‰ç«¯å¼€å‘ï¼ˆReact + Ant Designï¼‰

### 5.1 åˆ›å»º React é¡¹ç›®

```bash
# ä½¿ç”¨ Vite åˆ›å»º React + TypeScript é¡¹ç›®
cd ecommerce-management-system
npm create vite@latest frontend -- --template react-ts

# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install
```

### 5.2 å®‰è£… Ant Design å’Œç›¸å…³ä¾èµ–

```bash
# Ant Design
npm install antd

# React Router
npm install react-router-dom
npm install -D @types/react-router-dom

# Axios
npm install axios

# å›¾æ ‡åº“
npm install @ant-design/icons
```

### 5.3 é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Login.tsx          # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Register.tsx       # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx      # ä¸»å¸ƒå±€ï¼ˆä¾§è¾¹æ +å†…å®¹åŒºï¼‰
â”‚   â”‚   â”œâ”€â”€ Products.tsx       # å•†å“ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ Categories.tsx     # åˆ†ç±»ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx # è·¯ç”±ä¿æŠ¤ç»„ä»¶
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ AuthContext.tsx    # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ api.ts             # Axios å®ä¾‹é…ç½®
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts           # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ main.tsx
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

### 5.4 é…ç½® Vite ä»£ç†

åœ¨ `vite.config.ts` ä¸­ï¼š

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3001,
    proxy: {
      '/api': {
        target: 'http://localhost:3003',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});
```

### 5.5 å®ç°æ ¸å¿ƒåŠŸèƒ½

#### 5.5.1 API è¯·æ±‚å°è£…

åˆ›å»º `src/utils/api.ts`:

```typescript
import axios from 'axios';

const api = axios.create({
  baseURL: 'http://localhost:3003',
  headers: {
    'Content-Type': 'application/json',
  },
});

// è¯·æ±‚æ‹¦æˆªå™¨ - æ·»åŠ  Token
api.interceptors.request.use((config) => {
  const token = sessionStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// å“åº”æ‹¦æˆªå™¨ - å¤„ç†é”™è¯¯
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      sessionStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default api;
```

#### 5.5.2 è®¤è¯ä¸Šä¸‹æ–‡

åˆ›å»º `src/contexts/AuthContext.tsx` ç®¡ç†ç”¨æˆ·è®¤è¯çŠ¶æ€ã€‚

#### 5.5.3 è·¯ç”±é…ç½®

åœ¨ `App.tsx` ä¸­é…ç½®è·¯ç”±ï¼š

```typescript
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import Login from './pages/Login';
import Register from './pages/Register';
import Dashboard from './pages/Dashboard';
import ProtectedRoute from './components/ProtectedRoute';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route path="/register" element={<Register />} />
        <Route
          path="/*"
          element={
            <ProtectedRoute>
              <Dashboard />
            </ProtectedRoute>
          }
        />
      </Routes>
    </BrowserRouter>
  );
}
```

#### 5.5.4 ç™»å½•/æ³¨å†Œé¡µé¢

- ä½¿ç”¨ Ant Design Form ç»„ä»¶
- å®ç°è¡¨å•éªŒè¯
- è°ƒç”¨åç«¯ API
- å¤„ç†é”™è¯¯å’ŒæˆåŠŸæç¤º

#### 5.5.5 å•†å“ç®¡ç†é¡µé¢

**åŠŸèƒ½ï¼š**
- å•†å“åˆ—è¡¨å±•ç¤ºï¼ˆTable ç»„ä»¶ï¼‰
- åˆ›å»ºå•†å“ï¼ˆModal + Formï¼‰
- ç¼–è¾‘å•†å“
- åˆ é™¤å•†å“ï¼ˆPopconfirm ç¡®è®¤ï¼‰
- æŸ¥çœ‹å•†å“è¯¦æƒ…
- å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½

#### 5.5.6 åˆ†ç±»ç®¡ç†é¡µé¢

**åŠŸèƒ½ï¼š**
- åˆ†ç±»åˆ—è¡¨å±•ç¤º
- åˆ›å»ºåˆ†ç±»ï¼ˆæ”¯æŒé€‰æ‹©çˆ¶åˆ†ç±»ï¼‰
- ç¼–è¾‘åˆ†ç±»
- åˆ é™¤åˆ†ç±»
- æ˜¾ç¤ºå±‚çº§å…³ç³»

### 5.6 å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
npm run dev
```

**è®¿é—®åœ°å€ï¼š**
- http://localhost:3001

---

## 6. å‰åç«¯è”è°ƒ

### 6.1 æµ‹è¯•æµç¨‹

1. **ç”¨æˆ·æ³¨å†Œ**
   - æ‰“å¼€ http://localhost:3001/register
   - å¡«å†™è¡¨å•å¹¶æäº¤
   - æ£€æŸ¥åç«¯æ˜¯å¦åˆ›å»ºç”¨æˆ·

2. **ç”¨æˆ·ç™»å½•**
   - æ‰“å¼€ http://localhost:3001/login
   - ä½¿ç”¨æ³¨å†Œçš„è´¦å·ç™»å½•
   - æ£€æŸ¥æ˜¯å¦è·å¾— JWT Token

3. **å•†å“ç®¡ç†**
   - åˆ›å»ºå•†å“
   - æŸ¥çœ‹å•†å“åˆ—è¡¨
   - ç¼–è¾‘å•†å“
   - åˆ é™¤å•†å“

4. **åˆ†ç±»ç®¡ç†**
   - åˆ›å»ºåˆ†ç±»
   - åˆ›å»ºå­åˆ†ç±»
   - ç¼–è¾‘åˆ†ç±»
   - åˆ é™¤åˆ†ç±»

### 6.2 å¸¸è§é—®é¢˜è§£å†³

**CORS é”™è¯¯ï¼š**
- æ£€æŸ¥åç«¯ CORS é…ç½®
- ç¡®è®¤å‰ç«¯ç«¯å£åœ¨å…è®¸åˆ—è¡¨ä¸­

**401 æœªæˆæƒï¼š**
- æ£€æŸ¥ Token æ˜¯å¦æ­£ç¡®æ·»åŠ åˆ°è¯·æ±‚å¤´
- æ£€æŸ¥ Token æ˜¯å¦è¿‡æœŸ

**å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼š**
- æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
- æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶

---

## 7. Docker å®¹å™¨åŒ–ï¼ˆå¯é€‰ï¼‰

### 7.1 åˆ›å»º Dockerfile

**åç«¯ Dockerfile (`backend/Dockerfile`):**

```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3003

CMD ["npm", "run", "start:prod"]
```

**å‰ç«¯ Dockerfile (`frontend/Dockerfile`):**

```dockerfile
FROM node:18-alpine as build

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

### 7.2 æ›´æ–° docker-compose.yml

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:14
    container_name: ecommerce-postgres
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: ecommerce_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - ecommerce-network

  backend:
    build: ./backend
    container_name: ecommerce-backend
    ports:
      - "3003:3003"
    environment:
      DATABASE_URL: postgresql://postgres:postgres@postgres:5432/ecommerce_db
      JWT_SECRET: your-secret-key
    depends_on:
      - postgres
    networks:
      - ecommerce-network

  frontend:
    build: ./frontend
    container_name: ecommerce-frontend
    ports:
      - "80:80"
    depends_on:
      - backend
    networks:
      - ecommerce-network

volumes:
  postgres_data:

networks:
  ecommerce-network:
    driver: bridge
```

### 7.3 å¯åŠ¨æ‰€æœ‰æœåŠ¡

```bash
docker-compose up -d
```

---

## 8. æµ‹è¯•ä¸ä¼˜åŒ–

### 8.1 åŠŸèƒ½æµ‹è¯•

- [ ] ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æ­£å¸¸
- [ ] ç”¨æˆ·ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] JWT è®¤è¯æ­£å¸¸å·¥ä½œ
- [ ] å•†å“ CRUD åŠŸèƒ½å®Œæ•´
- [ ] åˆ†ç±» CRUD åŠŸèƒ½å®Œæ•´
- [ ] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] è¡¨å•éªŒè¯æœ‰æ•ˆ

### 8.2 ä»£ç è´¨é‡æ£€æŸ¥

**å®‰è£… ESLint å’Œ Prettierï¼š**

```bash
# åç«¯
cd backend
npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
npm install -D prettier eslint-config-prettier

# å‰ç«¯
cd frontend
npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
npm install -D prettier eslint-config-prettier
```

**é…ç½® Huskyï¼ˆå¯é€‰ï¼‰ï¼š**

```bash
npm install -D husky lint-staged

npx husky install
npx husky add .husky/pre-commit "npx lint-staged"
```

### 8.3 æ€§èƒ½ä¼˜åŒ–

- å›¾ç‰‡å‹ç¼©å’Œä¼˜åŒ–
- æ‡’åŠ è½½ç»„ä»¶
- API è¯·æ±‚é˜²æŠ–/èŠ‚æµ
- æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

---

## 9. æ–‡æ¡£ç¼–å†™

### 9.1 å¿…éœ€æ–‡æ¡£

#### 9.1.1 README.md

åŒ…å«ï¼š
- é¡¹ç›®ä»‹ç»
- æŠ€æœ¯æ ˆ
- å¿«é€Ÿå¼€å§‹
- é¡¹ç›®ç»“æ„
- ç¯å¢ƒå˜é‡è¯´æ˜

#### 9.1.2 é¡¹ç›®æ¶æ„è¯´æ˜ (`docs/architecture.md`)

åŒ…å«ï¼š
- å‰åç«¯æ¶æ„è®¾è®¡
- æŠ€æœ¯é€‰å‹è¯´æ˜
- é¡¹ç›®ç›®å½•ç»“æ„
- æ•°æ®æµè®¾è®¡
- æ¨¡å—è¯´æ˜

#### 9.1.3 API æ–‡æ¡£ (`docs/api.md`)

åŒ…å«ï¼š
- æ‰€æœ‰ API æ¥å£è¯´æ˜
- è¯·æ±‚/å“åº”ç¤ºä¾‹
- é”™è¯¯ç è¯´æ˜
- Swagger è®¿é—®åœ°å€

#### 9.1.4 æ•°æ®åº“è®¾è®¡æ–‡æ¡£ (`docs/database.md`)

åŒ…å«ï¼š
- ER å›¾ï¼ˆæ–‡æœ¬æˆ–å›¾ç‰‡ï¼‰
- è¡¨ç»“æ„è¯¦ç»†è¯´æ˜
- å­—æ®µè¯´æ˜å’Œçº¦æŸ
- å…³ç³»è¯´æ˜
- ç´¢å¼•è®¾è®¡

#### 9.1.5 éƒ¨ç½²æŒ‡å— (`docs/deployment.md`)

åŒ…å«ï¼š
- ç¯å¢ƒè¦æ±‚
- å®‰è£…æ­¥éª¤
- é…ç½®è¯´æ˜
- å¯åŠ¨å‘½ä»¤
- å¸¸è§é—®é¢˜
- Docker éƒ¨ç½²è¯´æ˜

### 9.2 æ–‡æ¡£æ¨¡æ¿ç¤ºä¾‹

å‚è€ƒé¡¹ç›®ä¸­çš„ `docs/` ç›®å½•ä¸‹çš„æ–‡æ¡£ã€‚

---

## 10. é¡¹ç›®æäº¤

### 10.1 æäº¤å‰æ£€æŸ¥æ¸…å•

**ä»£ç æ£€æŸ¥ï¼š**
- [ ] ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ
- [ ] æ²¡æœ‰æ˜æ˜¾çš„ bug
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] ä»£ç æ³¨é‡Šå……åˆ†
- [ ] éµå¾ª TypeScript è§„èŒƒ

**æ–‡æ¡£æ£€æŸ¥ï¼š**
- [ ] README.md å®Œæ•´
- [ ] æ¶æ„æ–‡æ¡£å®Œæ•´
- [ ] API æ–‡æ¡£å®Œæ•´
- [ ] æ•°æ®åº“æ–‡æ¡£å®Œæ•´
- [ ] éƒ¨ç½²æŒ‡å—å®Œæ•´

**åŠŸèƒ½æ£€æŸ¥ï¼š**
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•æ­£å¸¸
- [ ] å•†å“ CRUD æ­£å¸¸
- [ ] åˆ†ç±»ç®¡ç†æ­£å¸¸
- [ ] å‰åç«¯äº¤äº’æ­£å¸¸

**Git æ£€æŸ¥ï¼š**
- [ ] æ‰€æœ‰ä»£ç å·²æäº¤
- [ ] æäº¤ä¿¡æ¯éµå¾ª Conventional Commits è§„èŒƒ
- [ ] å·²æ¨é€åˆ° GitHub
- [ ] æ¯æ—¥éƒ½æœ‰æäº¤è®°å½•

### 10.2 æœ€ç»ˆæäº¤

```bash
# ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤
git add .
git commit -m "docs: complete project documentation"

# æ¨é€åˆ° GitHub
git push origin main

# åˆ›å»º Release Tagï¼ˆå¯é€‰ï¼‰
git tag -a v1.0.0 -m "Initial release"
git push origin v1.0.0
```

### 10.3 é€šçŸ¥å¯¼å¸ˆ

- ç¡®è®¤ä»“åº“åœ°å€å·²å‘é€ç»™å¯¼å¸ˆ
- ç¡®ä¿ä»“åº“å¯è®¿é—®
- å‡†å¤‡ç­”è¾©æ¼”ç¤º

---

## 11. ç­”è¾©å‡†å¤‡

### 11.1 æ¼”ç¤ºæµç¨‹å»ºè®®

1. **é¡¹ç›®ä»‹ç»**ï¼ˆ2åˆ†é’Ÿï¼‰
   - æŠ€æœ¯æ ˆä»‹ç»
   - é¡¹ç›®åŠŸèƒ½æ¦‚è¿°

2. **æ¶æ„æ¼”ç¤º**ï¼ˆ3åˆ†é’Ÿï¼‰
   - å±•ç¤ºé¡¹ç›®ç»“æ„
   - è¯´æ˜å‰åç«¯æ¶æ„
   - æ•°æ®åº“è®¾è®¡

3. **åŠŸèƒ½æ¼”ç¤º**ï¼ˆ5åˆ†é’Ÿï¼‰
   - ç”¨æˆ·æ³¨å†Œç™»å½•
   - å•†å“ç®¡ç†ï¼ˆCRUDï¼‰
   - åˆ†ç±»ç®¡ç†
   - å±•ç¤º Swagger æ–‡æ¡£

4. **æŠ€æœ¯è¦ç‚¹**ï¼ˆ3åˆ†é’Ÿï¼‰
   - JWT è®¤è¯æµç¨‹
   - Prisma ORM ä½¿ç”¨
   - React ç»„ä»¶è®¾è®¡
   - é”™è¯¯å¤„ç†æœºåˆ¶

5. **é—®é¢˜å›ç­”**ï¼ˆ2åˆ†é’Ÿï¼‰
   - å‡†å¤‡å›ç­”æŠ€æœ¯é—®é¢˜
   - è¯´æ˜è®¾è®¡å†³ç­–

### 11.2 å¯èƒ½çš„é—®é¢˜

1. ä¸ºä»€ä¹ˆé€‰æ‹© NestJS å’Œ Reactï¼Ÿ
2. å¦‚ä½•å®ç°ç”¨æˆ·æ•°æ®éš”ç¦»ï¼Ÿ
3. JWT è®¤è¯çš„æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ
4. å¦‚ä½•å¤„ç†é”™è¯¯å’Œå¼‚å¸¸ï¼Ÿ
5. æ•°æ®åº“è®¾è®¡è€ƒè™‘äº†å“ªäº›å› ç´ ï¼Ÿ
6. å¦‚ä½•ä¿è¯ä»£ç è´¨é‡ï¼Ÿ
7. å¦‚æœä½¿ç”¨ Cursorï¼Œå“ªäº›éƒ¨åˆ†ä½¿ç”¨äº† AI è¾…åŠ©ï¼Ÿ

---

## 12. å¼€å‘æ—¶é—´è§„åˆ’å»ºè®®

**ç¬¬ 1-2 å¤©ï¼šé¡¹ç›®å‡†å¤‡**
- GitHub ä»“åº“åˆ›å»º
- æ•°æ®åº“è®¾è®¡å’Œé…ç½®
- é¡¹ç›®åˆå§‹åŒ–

**ç¬¬ 3-5 å¤©ï¼šåç«¯å¼€å‘**
- Prisma é…ç½®
- ç”¨æˆ·è®¤è¯æ¨¡å—
- å•†å“ç®¡ç†æ¨¡å—
- åˆ†ç±»ç®¡ç†æ¨¡å—

**ç¬¬ 6-8 å¤©ï¼šå‰ç«¯å¼€å‘**
- é¡¹ç›®åˆå§‹åŒ–
- ç™»å½•/æ³¨å†Œé¡µé¢
- å•†å“ç®¡ç†é¡µé¢
- åˆ†ç±»ç®¡ç†é¡µé¢

**ç¬¬ 9-10 å¤©ï¼šè”è°ƒä¸ä¼˜åŒ–**
- å‰åç«¯è”è°ƒ
- Bug ä¿®å¤
- åŠŸèƒ½ä¼˜åŒ–

**ç¬¬ 11-12 å¤©ï¼šæµ‹è¯•ä¸æ–‡æ¡£**
- åŠŸèƒ½æµ‹è¯•
- æ–‡æ¡£ç¼–å†™
- ä»£ç ä¼˜åŒ–

**ç¬¬ 13-14 å¤©ï¼šæœ€ç»ˆæ£€æŸ¥**
- å…¨é¢æµ‹è¯•
- æ–‡æ¡£å®Œå–„
- ç­”è¾©å‡†å¤‡

---

## 13. å¸¸è§é—®é¢˜ FAQ

**Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ**
```bash
npx prisma migrate reset
```

**Q: å¦‚ä½•æŸ¥çœ‹æ•°æ®åº“æ•°æ®ï¼Ÿ**
- ä½¿ç”¨ pgAdminï¼ˆhttp://localhost:5050ï¼‰
- æˆ–ä½¿ç”¨ `psql` å‘½ä»¤è¡Œå·¥å…·

**Q: å¦‚ä½•è°ƒè¯•åç«¯ APIï¼Ÿ**
- ä½¿ç”¨ Swagger æ–‡æ¡£æµ‹è¯•
- ä½¿ç”¨ Postman
- æŸ¥çœ‹åç«¯æ§åˆ¶å°æ—¥å¿—

**Q: å‰ç«¯å¦‚ä½•è°ƒè¯•ï¼Ÿ**
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- æŸ¥çœ‹ Network æ ‡ç­¾
- æŸ¥çœ‹ Console æ—¥å¿—

**Q: å¦‚ä½•è§£å†³ç«¯å£å†²çªï¼Ÿ**
- ä¿®æ”¹ `vite.config.ts` ä¸­çš„ç«¯å£
- ä¿®æ”¹ `main.ts` ä¸­çš„ç«¯å£
- ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„

---

## 14. å‚è€ƒèµ„æº

- [NestJS å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com/)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Ant Design æ–‡æ¡£](https://ant.design/)
- [Prisma æ–‡æ¡£](https://www.prisma.io/docs)
- [PostgreSQL æ–‡æ¡£](https://www.postgresql.org/docs/)
- [Conventional Commits](https://www.conventionalcommits.org/)

---

## 15. æ€»ç»“

å®Œæˆä»¥ä¸Šæ‰€æœ‰æ­¥éª¤åï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”µå•†å•†å“ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

âœ… å®Œæ•´çš„åç«¯ APIï¼ˆNestJS + Prisma + PostgreSQLï¼‰  
âœ… ç¾è§‚çš„å‰ç«¯ç•Œé¢ï¼ˆReact + Ant Designï¼‰  
âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆJWTï¼‰  
âœ… å•†å“å’Œåˆ†ç±»ç®¡ç†åŠŸèƒ½  
âœ… å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£  
âœ… è§„èŒƒçš„ Git æäº¤å†å²  

**ç¥é¡¹ç›®é¡ºåˆ©å®Œæˆï¼** ğŸ‰

